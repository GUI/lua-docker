# AUTOMATICALLY GENERATED
# DO NOT EDIT THIS FILE DIRECTLY. Edit /Dockerfile.erb and run /update instead.

FROM alpine:3.18.6

RUN set -ex \
      && apk add --no-cache --virtual .lua-builddeps \
      ca-certificates \
      curl \
      gcc \
      libc-dev \
      make \
              readline-dev \
                        && curl -fsSL -o /tmp/lua.tar.gz "https://www.lua.org/ftp/lua-5.2.4.tar.gz" \
  && cd /tmp \
      && echo "b9e2e4aad6789b3b63a056d442f7b39f0ecfca3ae0f1fc0ae4e9614401b69f4b *lua.tar.gz" | sha256sum -c - \
    && mkdir /tmp/lua \
  && tar -xf /tmp/lua.tar.gz -C /tmp/lua --strip-components=1 \
  && cd /tmp/lua \
      && make linux \
    && make install \
      && cd / \
      && apk add --no-network --no-cache --virtual .lua-rundeps \
              readline \
                              && apk del --no-network .lua-builddeps \
    && rm -rf /tmp/lua /tmp/lua.tar.gz \
    && lua -v

CMD ["lua"]

LABEL org.opencontainers.image.source="https://github.com/GUI/lua-docker" \
  org.opencontainers.image.licenses="MIT"
